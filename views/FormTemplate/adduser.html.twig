{% extends "layout.html.twig" %}

{% block title %}
    Formulaire d'ajout d'utilisateurs
{% endblock %}

{% block content %}

    <!-- form start -->
  {#  <form class="form-horizontal" action="modiduser/add"  method="post">

        {% for success in app.session.getFlashBag.get('success') %}
            <div class="alert alert-success">
                {{ success }}
            </div>
        {% endfor %}
        <!-- /.box-footer -->

    </form>#}


    {% if message %}
        <div class="box box-primary">
            <div class="box-body" >
                <div class="box box-solid box-success" >
                    <div class="box-header" style="height:35px; font-size:16px; color: #333">
                        Utilisateur enregistré avec succès
                    </div>
                    <div class="box-body">
                        <table class="table table-hover">
                            <tr style="background-color: #3c8dbc">
                                <th style="text-align: center; border: 1px solid darkgrey;">Login </th>
                                <th style="text-align: center; border: 1px solid darkgrey;">Nom </td>
                                <th style="text-align: center; border: 1px solid darkgrey;">Prenom </th>
                                <th style="text-align: center; border: 1px solid darkgrey;">Role</th>
                                <th style="text-align: center; border: 1px solid darkgrey;">Description</th>
                                <th style="text-align: center; border: 1px solid darkgrey;">E-mail </th>
                                <th style="text-align: center; border: 1px solid darkgrey;">Discipline</th>
                                <th style="text-align: center; border: 1px solid darkgrey;">Classe</th>
                            </tr>
                            <tr>
                                <td style="text-align: center; border: 1px solid darkgrey;">{{ username }}</td>
                                <td style="text-align: center; border: 1px solid darkgrey;">{{ name }}</td>
                                <td style="text-align: center; border: 1px solid darkgrey;">{{ firstname }}</td>
                                <td style="text-align: center; border: 1px solid darkgrey;">{{ role_form }}</td>
                                <td style="text-align: center; border: 1px solid darkgrey;">{{ description }}</td>
                                <td style="text-align: center; border: 1px solid darkgrey;">{{ user_mail }}</td>
                                <td style="text-align: center; border: 1px solid darkgrey;">{{ discipline_form }}</td>
                                <td style="text-align: center; border: 1px solid darkgrey;">{{ classname }}<td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <h5>Ajouter un nouvel utilisateur</h5>
    {% endif %}

<!-- NEW -->
    <div class="box box-primary">
        <!-- /.box-header -->
        <!-- form start -->
        <form role="form" method="post" action="adduser">

            <div class="box-body" style="margin-left:2rem; width: 90%; ">

                <div class="form-group" >
                    <label>Login  *</label>
                    <input type="text" style=" width: 25% ;border-radius: 3px" name="username" class="form-control" required placeholder="Ex : jdUFIP2015">
                </div>
                <div class="form-group">
                    <label>Nom</label>
                    <input type="text" name="name" style=" width: 25% ;border-radius: 3px" class="form-control" placeholder="Ex : Dupont">
                </div>
                <div class="form-group">
                    <label>Prénom</label>
                    <input type="text" name="firstname" style=" width: 25% ;border-radius: 3px" class="form-control" placeholder="Ex : Jean">
                </div>
                <div class="form-group">
                    <label>Matière enseignée</label>
                    <input type="text" name="description" style=" width: 25% ;border-radius: 3px" class="form-control" placeholder="Ex : Anglais, Mathématiques ...">
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select class="form-control" style=" width: 25% ;border-radius: 3px" name="role" >
                        {% for roles in role %}
                            <option value="{{ roles.role }}">{{ roles.role }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label>Matière</label>
                    <select name="discipline_form" style=" width: 25% ;border-radius: 3px" class="form-control" >
                        {% for disciplines in discipline %}
                            <option value="{{ disciplines.id_discipline }}">{{ disciplines.name_discipline }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label>Classes</label>
                    <select name="classname" style=" width: 25% ;border-radius: 3px" class="form-control">{# multiple #}
                        {% for classes in classe %}
                            <option value="{{ classes.id_class }}">{{ classes.class_name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label>Email  *</label>
                    <input type="email"  name="user_mail"  style=" width: 25% ;border-radius: 3px" class="form-control" id="inputEmail3" required placeholder="Ex : jdufip@gmail.com ...">
                </div>
                <div class="form-group">
                    <label>Mot de passe  *</label>
                    <input type="password"  name="password" style=" width: 25% ;border-radius: 3px" class="form-control" required placeholder="Minimum 6 caractères">
                </div>

            </div>
            <div class="box-footer">
                <button type="submit" class="btn btn-info pull-right">Enregistrer</button>
            </div>
            {% for success in app.session.getFlashBag.get('success') %}
                <div class="alert alert-success">
                    {{ success }}
                </div>
            {% endfor %}
        </form>
        <!-- /.box-footer -->

    </div>


{% endblock %}

